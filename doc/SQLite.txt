SELECT * FROM sqlite_master
--
pragma table_info(AGIN)
--
CREATE TABLE AGIN(
	Id BIGINT PRIMARY KEY NOT NULL,
	CoordinateX INT NULL,
	CoordinateY INT NULL,
	FileNames NVARCHAR(2147483647) NULL,
	DataAnalysis NVARCHAR(2147483647) NULL,
	CreatedOn DATETIME NULL,
	CreatedBy BIGINT NULL,
	LastModifiedOn DATETIME NULL,
	LastModifiedBy BIGINT NULL
)
--
CREATE TABLE AGIN_TRACK(
    Id BIGINT PRIMARY KEY NOT NULL,
    CoordinateX INT NULL,
    CoordinateY INT NULL,
    FileNames NVARCHAR(255) NULL,
    DataAnalysis NVARCHAR(2147483647) NULL,
    CreatedOn DATETIME NULL,
    CreatedBy BIGINT NULL,
    LastModifiedOn DATETIME NULL,
    LastModifiedBy BIGINT NULL
)
--
DROP TABLE AGIN
--
ALTER TABLE AGIN RENAME TO AGIN_TRACK
--
INSERT INTO AGIN (Id, CoordinateX, CoordinateY, FileNames, DataAnalysis, CreatedOn, CreatedBy, LastModifiedOn, LastModifiedBy) VALUES (0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)
--
DELETE FROM AGIN
--
PRAGMA foreign_keys=off;
BEGIN TRANSACTION;
ALTER TABLE AGIN_TRACK RENAME TO tmpAGIN_TRACK;
CREATE TABLE AGIN_TRACK(
    Id BIGINT PRIMARY KEY NOT NULL,
    CoordinateX INT NULL,
    CoordinateY INT NULL,
    FileNames NVARCHAR(255) NULL,
    DataAnalysis NVARCHAR(2147483647) NULL,
    CreatedOn DATETIME NULL,
    CreatedBy BIGINT NULL,
    LastModifiedOn DATETIME NULL,
    LastModifiedBy BIGINT NULL
);
INSERT INTO AGIN_TRACK(Id, CoordinateX, CoordinateY, FileNames, DataAnalysis, CreatedOn, CreatedBy, LastModifiedOn, LastModifiedBy)
SELECT Id, CoordinateX, CoordinateY, FileNames, DataAnalysis, CreatedOn, CreatedBy, LastModifiedOn, LastModifiedBy FROM tmpAGIN_TRACK;
DROP TABLE tmpAGIN_TRACK;
COMMIT;
PRAGMA foreign_keys=on;
--
SELECT AT.*, strftime('%m/%d/%Y', substr(AT.CreatedOn, 0, 20)) FROM AGIN_TRACK AT ORDER BY AT.Id ASC LIMIT 0, 10
